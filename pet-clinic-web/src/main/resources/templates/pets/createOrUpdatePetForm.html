<!DOCTYPE html>
<html lang="en" th:replace="~{fragments/layout :: layout (~{::body},'owners')}" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
<!--    <title><th:block th:if="${pet['new']}">Add New Pet</th:block>Update Pet</title>-->
</head>
<body>
<!--/*thymesVar id= "owner" type ="com.springframework.petclinictutorial.model.Owner"*/-->
<!--/*thymesVar id= "pet" type ="com.springframework.petclinictutorial.model.Pet"*/-->


<h2><th:block th:if="${pet['new']}">New</th:block> Pet</h2>

<form class="form-horizontal" id="add-owner-form" method="post" th:object="${pet}">
    <div class="form-group has-feedback">
        <div class="form-group">
            <th:block th:if="${not pet['new']}">
            <label class="col-sm-2 control-label">Owner</label>
            <div class="col-sm-10">
                <span th:text="${owner?.firstName + ' ' + owner?.lastName}" />
            </div>
            </th:block>
            <th:block th:if="${pet['new']}">
                <label class="col-sm-2 control-label">Owner</label>
                <div class="col-sm-10">
                    <span th:text="${pet.owner?.firstName + ' ' + pet.owner?.lastName}" />
                </div>
            </th:block>
        </div>
        <input th:replace="~{fragments/inputField :: input ('Name', 'name', 'text')}"/>
        <input th:replace="~{fragments/inputField :: input ('Birth Date', 'birthDate', 'date')}"/>
        <input th:replace="~{fragments/selectField :: select ('Type', 'petType', ${types})}"/>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button class="btn btn-primary"
            th:text="${text}" th:with="text=${pet['new']} ? 'Add Pet' : 'Update Pet'" type="submit">Add Pet
            </button>
        </div>
    </div>
</form>

</body>
</html>